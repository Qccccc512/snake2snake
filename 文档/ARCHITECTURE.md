# ğŸ›ï¸ æ¶æ„è®¾è®¡æ–‡æ¡£

## ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·ç•Œé¢å±‚ (UI Layer)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   HTML     â”‚  â”‚    CSS     â”‚  â”‚   main.js    â”‚        â”‚
â”‚  â”‚  (è§†å›¾)     â”‚  â”‚  (æ ·å¼)     â”‚  â”‚ (åº”ç”¨æ§åˆ¶)   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ ¸å¿ƒæ§åˆ¶å±‚ (Core Layer)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚           Game (æ¸¸æˆä¸»æ§åˆ¶å™¨)                    â”‚      â”‚
â”‚  â”‚  - çŠ¶æ€æœºç®¡ç† (READY/PLAYING/PAUSED/OVER)      â”‚      â”‚
â”‚  â”‚  - ç³»ç»Ÿåè°ƒ                                     â”‚      â”‚
â”‚  â”‚  - æ¸¸æˆä¸»å¾ªç¯                                   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                         â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ GameSession  â”‚  â”‚     User     â”‚                     â”‚
â”‚  â”‚  (ä¼šè¯ç®¡ç†)   â”‚  â”‚  (ç”¨æˆ·æ¨¡å‹)   â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚ (Business Layer)             â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚FoodSpawner  â”‚  â”‚ScoreManager â”‚  â”‚    Timer     â”‚    â”‚
â”‚  â”‚ (é£Ÿç‰©ç®¡ç†)   â”‚  â”‚ (åˆ†æ•°ç®¡ç†)   â”‚  â”‚  (è®¡æ—¶å™¨)     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚RespawnManagerâ”‚  â”‚UserManager   â”‚  â”‚Achievement  â”‚   â”‚
â”‚  â”‚  (é‡ç”Ÿç®¡ç†)   â”‚  â”‚ (ç”¨æˆ·ç®¡ç†)    â”‚  â”‚   System    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚      CollisionDetector (å•ä¾‹)         â”‚               â”‚
â”‚  â”‚         (ç¢°æ’æ£€æµ‹)                     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å®ä½“å±‚ (Entity Layer)                   â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚      Snake       â”‚       â”‚      Food         â”‚       â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚       â”‚
â”‚  â”‚  â”‚   body    â”‚  â”‚       â”‚  â”‚  Normal  â”‚     â”‚       â”‚
â”‚  â”‚  â”‚ direction â”‚  â”‚       â”‚  â”‚  Speed   â”‚     â”‚       â”‚
â”‚  â”‚  â”‚  effects  â”‚  â”‚       â”‚  â”‚  Super   â”‚     â”‚       â”‚
â”‚  â”‚  â”‚   user    â”‚  â”‚       â”‚  â”‚  Mine    â”‚     â”‚       â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â”‚  â”‚  Magnet  â”‚     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚       â”‚
â”‚          â†“                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â†‘                     â”‚
â”‚  â”‚   SnakeEffect    â”‚              â”‚                     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  â”‚   Speed   â”‚  â”‚       â”‚ FoodFactory  â”‚            â”‚
â”‚  â”‚  â”‚  Magnet   â”‚  â”‚       â”‚  (å·¥å‚æ¨¡å¼)   â”‚            â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AIå±‚ (AI Layer)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚           AIController (ç­–ç•¥æ¨¡å¼)              â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚        â”‚
â”‚  â”‚  â”‚ EasyAI  â”‚  â”‚NormalAI  â”‚  â”‚ HardAI   â”‚   â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚        â”‚
â”‚  â”‚              PathFinder                      â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ¸²æŸ“å’Œè¾“å…¥å±‚ (Rendering & Input Layer)        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   Renderer   â”‚  â”‚  UIManager   â”‚  â”‚ InputHandler  â”‚â”‚
â”‚  â”‚  (æ¸²æŸ“ç”»é¢)   â”‚  â”‚  (UIæ›´æ–°)     â”‚  â”‚ (è¾“å…¥å¤„ç†)     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                æ•°æ®æŒä¹…åŒ–å±‚ (Persistence Layer)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚        localStorage (æµè§ˆå™¨æœ¬åœ°å­˜å‚¨)          â”‚        â”‚
â”‚  â”‚  - ç”¨æˆ·æ•°æ®                                   â”‚        â”‚
â”‚  â”‚  - æ¸¸æˆç»Ÿè®¡                                   â”‚        â”‚
â”‚  â”‚  - æˆå°±è¿›åº¦                                   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æ•°æ®æµå›¾

### æ¸¸æˆå¼€å§‹æµç¨‹
```
ç”¨æˆ·é€‰æ‹© â†’ GameSession â†’ Game.start()
    â†“
åˆå§‹åŒ–è›‡ â†’ Snakeå®ä¾‹åŒ– â†’ å…³è”User
    â†“
å¯åŠ¨ç³»ç»Ÿ â†’ Timer.start() + FoodSpawner.start()
    â†“
æ¸¸æˆå¾ªç¯ â†’ Game.update() â†’ æ¸²æŸ“å’Œé€»è¾‘æ›´æ–°
```

### åƒè±†å­æµç¨‹
```
Snakeç§»åŠ¨ â†’ CollisionDetector.checkFoodCollision()
    â†“
æ£€æµ‹åˆ°é£Ÿç‰© â†’ Food.onEaten()
    â†“
åº”ç”¨æ•ˆæœ â†’ Snake.grow++ / addEffect()
    â†“
æ›´æ–°ç»Ÿè®¡ â†’ User.stats.recordFoodEaten()
    â†“
æ›´æ–°åˆ†æ•° â†’ ScoreManager.calculateScore()
    â†“
æ£€æŸ¥æˆå°± â†’ AchievementSystem.checkAchievements()
```

### æ­»äº¡é‡ç”Ÿæµç¨‹
```
ç¢°æ’æ£€æµ‹ â†’ CollisionDetector.detectAllCollisions()
    â†“
æ£€æµ‹åˆ°ç¢°æ’ â†’ RespawnManager.handleDeath()
    â†“
è›‡æ­»äº¡ â†’ Snake.die() + è®°å½•ç»Ÿè®¡
    â†“
æ‰è½é£Ÿç‰© â†’ FoodSpawner.dropFoodFromSnake()
    â†“
2ç§’å â†’ RespawnManager.tryRespawn()
    â†“
é‡ç”Ÿ â†’ Snake.respawn() at éšæœºå®‰å…¨ä½ç½®
```

### æˆå°±è§£é”æµç¨‹
```
æ¸¸æˆäº‹ä»¶ â†’ æ›´æ–°User.stats
    â†“
å®šæœŸæ£€æŸ¥ â†’ AchievementSystem.checkAchievements()
    â†“
æ¡ä»¶è¾¾æˆ â†’ Achievement.check() â†’ true
    â†“
è§£é”æˆå°± â†’ Achievement.unlock()
    â†“
æ˜¾ç¤ºé€šçŸ¥ â†’ UIManager.showAchievementNotification()
    â†“
ä¿å­˜æ•°æ® â†’ UserManager.saveUserData()
```

---

## æ¨¡å—ä¾èµ–å…³ç³»

### æ ¸å¿ƒä¾èµ–ï¼ˆä»ä¸Šåˆ°ä¸‹ï¼‰
```
main.js
  â””â”€â†’ Game
       â”œâ”€â†’ GameSession
       â”‚    â””â”€â†’ User
       â”‚         â””â”€â†’ GameStats
       â”‚         â””â”€â†’ Achievement
       â”œâ”€â†’ Snake
       â”‚    â””â”€â†’ Position
       â”‚    â””â”€â†’ SnakeEffect
       â”‚    â””â”€â†’ User
       â”œâ”€â†’ FoodSpawner
       â”‚    â””â”€â†’ FoodFactory
       â”‚         â””â”€â†’ Foodå­ç±»
       â”œâ”€â†’ CollisionDetector (å•ä¾‹)
       â”œâ”€â†’ ScoreManager
       â”œâ”€â†’ Timer
       â”œâ”€â†’ RespawnManager
       â”œâ”€â†’ UserManager (å•ä¾‹)
       â”œâ”€â†’ AchievementSystem
       â”œâ”€â†’ Renderer
       â”œâ”€â†’ UIManager
       â”œâ”€â†’ InputHandler
       â””â”€â†’ AIControllerå­ç±»
            â””â”€â†’ PathFinder
```

### é…ç½®ä¾èµ–ï¼ˆå…¨å±€ï¼‰
```
GameConfig (å•ä¾‹) â†â”€â”€ å‡ ä¹æ‰€æœ‰ç±»éƒ½ä¾èµ–
Direction (å¸¸é‡) â†â”€â”€ Snake, AI, ç®¡ç†å™¨
```

---

## å…³é”®æ¥å£è¯´æ˜

### Foodæ¥å£
```javascript
abstract class Food {
    abstract onEaten(snake, game): void
    render(ctx, cellSize): void
}
```
**ä½œç”¨**ï¼šå®šä¹‰æ‰€æœ‰é£Ÿç‰©çš„è¡Œä¸ºè§„èŒƒ

### AIControlleræ¥å£
```javascript
abstract class AIController {
    abstract makeDecision(snake): Direction
    findNearestFood(position): Food
    getSafeDirections(snake): Direction[]
}
```
**ä½œç”¨**ï¼šå®šä¹‰AIçš„å†³ç­–æ¥å£

### SnakeEffectæ¥å£
```javascript
abstract class SnakeEffect {
    abstract apply(snake): void
    abstract remove(snake): void
    update(snake, game): void
    isExpired(): boolean
}
```
**ä½œç”¨**ï¼šå®šä¹‰è›‡æ•ˆæœçš„ç”Ÿå‘½å‘¨æœŸ

---

## é…ç½®ç³»ç»Ÿ

### GameConfigé…ç½®é¡¹
```javascript
{
    // åœ°å›¾é…ç½®
    GRID_SIZE: 32,
    CELL_SIZE: 16,
    
    // è›‡é…ç½®
    INITIAL_LENGTH: 3,
    SNAKE_SPEED: 120,
    
    // æ¸¸æˆé…ç½®
    GAME_DURATION: 120,
    RESPAWN_DELAY: 2000,
    
    // é£Ÿç‰©é…ç½®
    MAX_FOOD: 20,
    FOOD_SPAWN_INTERVAL: 1000,
    FOOD_SPAWN_COUNT: 2,
    FOOD_PROBABILITIES: {
        normal: 80,
        speed: 5,
        super: 5,
        mine: 5,
        magnet: 5
    },
    
    // æ•ˆæœé…ç½®
    SPEED_EFFECT_DURATION: 5000,
    MAGNET_EFFECT_DURATION: 20000,
    MAGNET_RANGE: 1,
    
    // åˆ†æ•°é…ç½®
    SCORE_PER_FOOD: 50,
    SCORE_PER_LENGTH: 100,
    
    // é¢œè‰²é…ç½®
    COLORS: { ... }
}
```

### ä¿®æ”¹é…ç½®çš„æ–¹æ³•
```javascript
const config = GameConfig.getInstance();

// ä¿®æ”¹é£Ÿç‰©åˆ·æ–°
config.updateFoodSpawnConfig(2000, 3, 30);

// ä¿®æ”¹é£Ÿç‰©æ¦‚ç‡
config.updateFoodProbabilities({
    normal: 70,
    speed: 10,
    super: 10,
    mine: 5,
    magnet: 5
});

// ä¿®æ”¹è›‡é€Ÿåº¦
config.updateSnakeSpeed(100);
```

---

## çŠ¶æ€ç®¡ç†

### æ¸¸æˆçŠ¶æ€æœº
```
     start()
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  READY   â”‚
  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚ start()
        â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” pause()    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ PLAYING  â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  PAUSED  â”‚
  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  resume()  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ timeEnd()
        â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚   OVER   â”‚
  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚ reset()
        â†“
      READY
```

### è›‡çš„çŠ¶æ€
```
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” die()      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ ALIVE  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â†’ â”‚  DEAD  â”‚
  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜            â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
       â†‘                     â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          respawn() after 2s
```

---

## äº‹ä»¶ç³»ç»Ÿ

### æ¸¸æˆäº‹ä»¶æµ
```
ç”¨æˆ·è¾“å…¥
  â†“
InputHandler.handleKeyDown()
  â†“
Snake.changeDirection()
  â†“
(æ¯å¸§) Game.update()
  â†“
Snake.move()
  â†“
CollisionDetectoræ£€æµ‹
  â”œâ”€â†’ ç¢°æ’ â†’ RespawnManager.handleDeath()
  â””â”€â†’ åƒè±† â†’ Food.onEaten() â†’ æ›´æ–°stats â†’ æ£€æŸ¥æˆå°±
  â†“
Renderer.render()
```

### æˆå°±æ£€æµ‹æµ
```
æ¸¸æˆäº‹ä»¶
  â†“
æ›´æ–° User.stats (å„ç§recordXXXæ–¹æ³•)
  â†“
(å®šæœŸ) AchievementSystem.checkAchievements()
  â†“
éå†æ‰€æœ‰æˆå°± â†’ Achievement.check(stats)
  â†“
æ¡ä»¶æ»¡è¶³ â†’ Achievement.unlock()
  â†“
åŠ å…¥é€šçŸ¥é˜Ÿåˆ— â†’ UIManageræ˜¾ç¤ºé€šçŸ¥
  â†“
ä¿å­˜æ•°æ® â†’ UserManager.saveUserData()
```
